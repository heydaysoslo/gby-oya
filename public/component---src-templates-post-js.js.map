{"version":3,"sources":["webpack:///./src/templates/post.js","webpack:///./src/components/NewsCard.js","webpack:///./src/components/LatestPosts.js","webpack:///./src/components/Post.js"],"names":["__webpack_exports__","_ref","data","pageContext","translations","post","_objectWithoutPropertiesLoose","wordpressPost","locale","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_5__","options","wordpressHeyAcfoptions","settings","wordpressHeySettings","_components_utils__WEBPACK_IMPORTED_MODULE_7__","_components_Post__WEBPACK_IMPORTED_MODULE_6__","pageQuery","NewsCard","render","_this$props","this","props","i","react__WEBPACK_IMPORTED_MODULE_2___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","to","link","className","_utils__WEBPACK_IMPORTED_MODULE_4__","featured_image","Object","assign","key","id","maxWidth","date","stripTags","content","title","rendered","Component","LatestPosts","wordpress_id","_useState","useState","posts","setPosts","_useState2","loading","setLoading","useEffect","fetch","then","res","json","catch","err","console","log","filter","slice","map","react_default","Post","excerpt","utils","showCaption","window","components_LatestPosts"],"mappings":"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","file":"component---src-templates-post-js.js","sourcesContent":["import React from \"react\"\nimport Layout from \"../components/layout\"\nimport { graphql } from \"gatsby\"\nimport Post from \"../components/Post\"\nimport { SEOHeaders } from \"../components/utils\"\n\nexport default ({ data, pageContext, translations, ...rest }) => {\n  const post = data.wordpressPost\n  const { locale } = pageContext\n  return (\n    <Layout\n      translations={translations}\n      locale={locale}\n      options={data.wordpressHeyAcfoptions}\n      settings={data.wordpressHeySettings}\n    >\n      <SEOHeaders data={post} />\n      <Post post={post} />\n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query($id: String!, $locale: String!) {\n    wordpressHeyAcfoptions(locale: { eq: $locale }) {\n      locale\n      options {\n        url_app_download_android\n        url_app_download_ios\n        tickets_button_text\n        tickets_sold_out\n        tickets_url\n        partners_main {\n          title {\n            rendered\n          }\n        }\n      }\n    }\n\n    wordpressHeySettings(locale: { eq: $locale }) {\n      locale\n      page_for_posts {\n        wordpress_id\n      }\n    }\n\n    wordpressPost(id: { eq: $id }) {\n      seo_head\n      wordpress_id\n      title\n      excerpt\n      content\n      date\n      featured_image {\n        title\n        filename\n        filesize\n        url\n        link\n        alt\n        author\n        description\n        caption\n        name\n        status\n        uploaded_to\n        date\n        modified\n        menu_order\n        mime_type\n        type\n        subtype\n        icon\n        width\n        height\n        sizes {\n          thumbnail\n          thumbnail_width\n          thumbnail_height\n          medium\n          medium_width\n          medium_height\n          medium_large\n          medium_large_width\n          medium_large_height\n          large\n          large_width\n          large_height\n          small\n          small_width\n          small_height\n          medium_small\n          medium_small_width\n          medium_small_height\n          xlarge\n          xlarge_width\n          xlarge_height\n        }\n      }\n      translations {\n        nb {\n          url\n        }\n        en {\n          url\n        }\n      }\n    }\n  }\n`\n","import React, { Component } from \"react\"\nimport { Link } from \"gatsby\"\n\nimport { FeaturedImageAspect, Overlay, PostDate, Html, Doodle } from \"./utils\"\n\nexport default class NewsCard extends Component {\n  render() {\n    const { post, i } = this.props\n    return (\n      <Link to={post.link} className=\"NewsCards__item\">\n        <Doodle>\n          {post.featured_image ? (\n            <div className=\"NewsCards__image\">\n              <Overlay i={i}>\n                <FeaturedImageAspect\n                  key={post.id}\n                  {...post.featured_image}\n                  className=\"aspect-sm--landscape\"\n                  maxWidth={1000}\n                />\n              </Overlay>\n            </div>\n          ) : (\n            <div className=\"NewsCards__placeholder aspect aspect-sm--landscape\" />\n          )}\n          <div className=\"NewsCards__content\">\n            <small>\n              <PostDate className=\"NewsCards__date\" date={post.date} />\n            </small>\n            <h3 className=\"NewsCards__title\">\n              <Html\n                stripTags={true}\n                content={post.title.rendered || post.title} // client rendering needs post.title.rendered (See: LatestPosts.js)\n              />\n            </h3>\n            {/* <div className=\"NewsCards__excerpt\">\n              <Html stripTags={true} content={post.excerpt} />\n            </div> */}\n          </div>\n        </Doodle>\n      </Link>\n    )\n  }\n}\n","import React, { useState, useEffect } from \"react\"\nimport NewsCard from \"./NewsCard\"\n\nconst LatestPosts = ({ wordpress_id }) => {\n  const [posts, setPosts] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    fetch(\"https://api.oyafestivalen.no/wp-json/wp/v2/posts?per_page=5\")\n      .then(res => res.json())\n      .then(res => {\n        setPosts(res)\n        setLoading(false)\n      })\n      .catch(err => console.log(err))\n  }, [])\n\n  if (loading) return null\n\n  return posts\n    .filter(post => post.id !== wordpress_id)\n    .slice(0, 4)\n    .map(post => <NewsCard key={`NewsCard-${post.id}`} post={post} />)\n}\n\nexport default LatestPosts\n","import React from \"react\"\nimport { Html, FeaturedImage, PostDate, ResponsiveEmbeds } from \"./utils\"\nimport LatestPosts from \"./LatestPosts\"\n\nconst Post = ({ post }) => {\n  const { title, content, wordpress_id, featured_image, date, excerpt } = post\n\n  return (\n    <article className=\"Post\">\n      {title && (\n        <header className=\"Post__header\">\n          <h1 className=\"Post__title\">\n            <Html content={title} />\n          </h1>\n          {date && (\n            <p className=\"Post__date\">\n              <PostDate date={date} />\n            </p>\n          )}\n          {excerpt && (\n            <div className=\"Post__lead\">\n              <Html content={excerpt} />\n            </div>\n          )}\n        </header>\n      )}\n      {featured_image && (\n        <FeaturedImage\n          className=\"Post__featured-image\"\n          {...featured_image}\n          showCaption={true}\n        />\n      )}\n      <div className=\"Post__content editor\">\n        <ResponsiveEmbeds>\n          <Html content={content} />\n        </ResponsiveEmbeds>\n      </div>\n      <footer className=\"Post__footer\">\n        <div className=\"NewsCards NewsCards--footer\">\n          {typeof window !== \"undefined\" && (\n            <LatestPosts wordpress_id={wordpress_id} />\n          )}\n        </div>\n      </footer>\n    </article>\n  )\n}\n\nexport default Post\n"],"sourceRoot":""}